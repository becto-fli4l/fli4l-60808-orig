# $Id$
# Do not edit! This file is automaticly generated by rrd-graph.xsl

dsltool_modemstate_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/dsltool-${dsltoolhost}/modemstate.rrd ]
    then
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_MODEMSTATUS}")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-modemstate-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_MODEMSTATUS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_MODEMSTATUS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_MODEMSTATUS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/modemstate.rrd:value:AVERAGE \
            VDEF:var1_last=var1,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#FF0000:"${var1_label}\t\g" \
            GPRINT:var1_last:"%-14.0lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for DSL-Tool ${_DSLTOOL_RT_MODEMSTATUS}"
    fi
}

dsltool_attenuation_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation4-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation4-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var9_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        var10_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-down.rrd:value:AVERAGE \
            DEF:var9=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation4-up.rrd:value:AVERAGE \
            DEF:var10=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation4-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            VDEF:var9_max=var9,MAXIMUM \
            VDEF:var9_avg=var9,AVERAGE \
            VDEF:var9_min=var9,MINIMUM \
            VDEF:var9_last=var9,LAST \
            VDEF:var10_max=var10,MAXIMUM \
            VDEF:var10_avg=var10,AVERAGE \
            VDEF:var10_min=var10,MINIMUM \
            VDEF:var10_last=var10,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#990066:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            LINE1:var9#CC6600:"${var9_label}\t\g" \
            GPRINT:var9_max:"%-14.1lf\t\g" \
            GPRINT:var9_avg:"%-14.1lf\t\g" \
            GPRINT:var9_min:"%-14.1lf\t\g" \
            GPRINT:var9_last:"%-14.1lf\l" \
            LINE1:var10#CC0066:"${var10_label}\t\g" \
            GPRINT:var10_max:"%-14.1lf\t\g" \
            GPRINT:var10_avg:"%-14.1lf\t\g" \
            GPRINT:var10_min:"%-14.1lf\t\g" \
            GPRINT:var10_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation4-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation4-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        var9_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-down.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation4-up.rrd:value:AVERAGE \
            DEF:var9=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation4-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            VDEF:var9_max=var9,MAXIMUM \
            VDEF:var9_avg=var9,AVERAGE \
            VDEF:var9_min=var9,MINIMUM \
            VDEF:var9_last=var9,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#990066:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#CC6600:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            LINE1:var9#CC0066:"${var9_label}\t\g" \
            GPRINT:var9_max:"%-14.1lf\t\g" \
            GPRINT:var9_avg:"%-14.1lf\t\g" \
            GPRINT:var9_min:"%-14.1lf\t\g" \
            GPRINT:var9_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation4-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var9_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-down.rrd:value:AVERAGE \
            DEF:var9=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation4-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            VDEF:var9_max=var9,MAXIMUM \
            VDEF:var9_avg=var9,AVERAGE \
            VDEF:var9_min=var9,MINIMUM \
            VDEF:var9_last=var9,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#990066:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            LINE1:var9#CC6600:"${var9_label}\t\g" \
            GPRINT:var9_max:"%-14.1lf\t\g" \
            GPRINT:var9_avg:"%-14.1lf\t\g" \
            GPRINT:var9_min:"%-14.1lf\t\g" \
            GPRINT:var9_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation4-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-down.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation4-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#990066:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#CC6600:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#990066:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#990066:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation3-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation3-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation2-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation2-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation1-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation1-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/attenuation-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-attenuation-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ATTENUATION} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ATTENUATION}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ATTENUATION}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/attenuation-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for DSL-Tool ${_DSLTOOL_RT_ATTENUATION}"
    fi
}

dsltool_noisemargin_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin4-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin4-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var9_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        var10_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-down.rrd:value:AVERAGE \
            DEF:var9=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin4-up.rrd:value:AVERAGE \
            DEF:var10=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin4-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            VDEF:var9_max=var9,MAXIMUM \
            VDEF:var9_avg=var9,AVERAGE \
            VDEF:var9_min=var9,MINIMUM \
            VDEF:var9_last=var9,LAST \
            VDEF:var10_max=var10,MAXIMUM \
            VDEF:var10_avg=var10,AVERAGE \
            VDEF:var10_min=var10,MINIMUM \
            VDEF:var10_last=var10,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#990066:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            LINE1:var9#CC6600:"${var9_label}\t\g" \
            GPRINT:var9_max:"%-14.1lf\t\g" \
            GPRINT:var9_avg:"%-14.1lf\t\g" \
            GPRINT:var9_min:"%-14.1lf\t\g" \
            GPRINT:var9_last:"%-14.1lf\l" \
            LINE1:var10#CC0066:"${var10_label}\t\g" \
            GPRINT:var10_max:"%-14.1lf\t\g" \
            GPRINT:var10_avg:"%-14.1lf\t\g" \
            GPRINT:var10_min:"%-14.1lf\t\g" \
            GPRINT:var10_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin4-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin4-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        var9_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-down.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin4-up.rrd:value:AVERAGE \
            DEF:var9=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin4-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            VDEF:var9_max=var9,MAXIMUM \
            VDEF:var9_avg=var9,AVERAGE \
            VDEF:var9_min=var9,MINIMUM \
            VDEF:var9_last=var9,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#990066:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#CC6600:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            LINE1:var9#CC0066:"${var9_label}\t\g" \
            GPRINT:var9_max:"%-14.1lf\t\g" \
            GPRINT:var9_avg:"%-14.1lf\t\g" \
            GPRINT:var9_min:"%-14.1lf\t\g" \
            GPRINT:var9_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin4-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var9_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-down.rrd:value:AVERAGE \
            DEF:var9=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin4-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            VDEF:var9_max=var9,MAXIMUM \
            VDEF:var9_avg=var9,AVERAGE \
            VDEF:var9_min=var9,MINIMUM \
            VDEF:var9_last=var9,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#990066:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            LINE1:var9#CC6600:"${var9_label}\t\g" \
            GPRINT:var9_max:"%-14.1lf\t\g" \
            GPRINT:var9_avg:"%-14.1lf\t\g" \
            GPRINT:var9_min:"%-14.1lf\t\g" \
            GPRINT:var9_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin4-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 4")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-down.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin4-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#990066:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#CC6600:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var8_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            DEF:var8=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            VDEF:var8_max=var8,MAXIMUM \
            VDEF:var8_avg=var8,AVERAGE \
            VDEF:var8_min=var8,MINIMUM \
            VDEF:var8_last=var8,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            LINE1:var8#990066:"${var8_label}\t\g" \
            GPRINT:var8_max:"%-14.1lf\t\g" \
            GPRINT:var8_avg:"%-14.1lf\t\g" \
            GPRINT:var8_min:"%-14.1lf\t\g" \
            GPRINT:var8_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#990066:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var7_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var7=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            VDEF:var7_max=var7,MAXIMUM \
            VDEF:var7_avg=var7,AVERAGE \
            VDEF:var7_min=var7,MINIMUM \
            VDEF:var7_last=var7,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            LINE1:var7#996600:"${var7_label}\t\g" \
            GPRINT:var7_max:"%-14.1lf\t\g" \
            GPRINT:var7_avg:"%-14.1lf\t\g" \
            GPRINT:var7_min:"%-14.1lf\t\g" \
            GPRINT:var7_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin3-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 3")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin3-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#996600:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var6_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#660099:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#660099:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var5_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#669900:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin2-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 2")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin2-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#669900:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#3300CC:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin1-up.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 1")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin1-up.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#33CC00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/noisemargin-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM} 0")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM} 0")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-noisemargin-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_NOISEMARGIN}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/noisemargin-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for DSL-Tool ${_DSLTOOL_RT_NOISEMARGIN}"
    fi
}

dsltool_txpower_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/dsltool-${dsltoolhost}/txpower-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/txpower-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM}")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM}")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-txpower-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_TXPOWER} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_TXPOWER}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_TXPOWER}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/txpower-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/txpower-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for DSL-Tool ${_DSLTOOL_RT_TXPOWER}"
    fi
}

dsltool_bandwidth_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/dsltool-${dsltoolhost}/bandwidth-kbit-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/bandwidth-kbit-down.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/bandwidth-max-kbit-up.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/bandwidth-max-kbit-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM}")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM}")
        var3_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM_MAX}")
        var4_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM_MAX}")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-bandwidth-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_BANDWIDTH} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_BANDWIDTH}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RT_BANDWIDTH}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/bandwidth-kbit-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/bandwidth-kbit-down.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/bandwidth-max-kbit-up.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/bandwidth-max-kbit-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#33CC00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#3300CC:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/bandwidth-kbit-up.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/bandwidth-kbit-down.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_UPSTREAM}")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_DOWNSTREAM}")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-bandwidth-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_BANDWIDTH} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_BANDWIDTH}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RT_BANDWIDTH}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/bandwidth-kbit-up.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/bandwidth-kbit-down.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for DSL-Tool ${_DSLTOOL_RT_BANDWIDTH}"
    fi
}

dsltool_errors_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "FEC Rx")
        var2_label=$(printf "%-15.15s" "CRC Rx")
        var3_label=$(printf "%-15.15s" "HEC Rx")
        var4_label=$(printf "%-15.15s" "FEC Tx")
        var5_label=$(printf "%-15.15s" "CRC Tx")
        var6_label=$(printf "%-15.15s" "HEC Tx")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-errors-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ERRORS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ERRORS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ERRORS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd:value:AVERAGE \
            DEF:var5=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd:value:AVERAGE \
            DEF:var6=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            VDEF:var5_max=var5,MAXIMUM \
            VDEF:var5_avg=var5,AVERAGE \
            VDEF:var5_min=var5,MINIMUM \
            VDEF:var5_last=var5,LAST \
            VDEF:var6_max=var6,MAXIMUM \
            VDEF:var6_avg=var6,AVERAGE \
            VDEF:var6_min=var6,MINIMUM \
            VDEF:var6_last=var6,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#00FFFF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#FF00FF:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#00FF00:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            LINE1:var5#FFFF00:"${var5_label}\t\g" \
            GPRINT:var5_max:"%-14.1lf\t\g" \
            GPRINT:var5_avg:"%-14.1lf\t\g" \
            GPRINT:var5_min:"%-14.1lf\t\g" \
            GPRINT:var5_last:"%-14.1lf\l" \
            LINE1:var6#FF0000:"${var6_label}\t\g" \
            GPRINT:var6_max:"%-14.1lf\t\g" \
            GPRINT:var6_avg:"%-14.1lf\t\g" \
            GPRINT:var6_min:"%-14.1lf\t\g" \
            GPRINT:var6_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "FEC Rx")
        var2_label=$(printf "%-15.15s" "CRC Rx")
        var3_label=$(printf "%-15.15s" "FEC Tx")
        var4_label=$(printf "%-15.15s" "CRC Tx")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-errors-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ERRORS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ERRORS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ERRORS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#00FFFF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#00FF00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#FFFF00:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "FEC Rx")
        var2_label=$(printf "%-15.15s" "HEC Rx")
        var3_label=$(printf "%-15.15s" "FEC Tx")
        var4_label=$(printf "%-15.15s" "HEC Tx")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-errors-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ERRORS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ERRORS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ERRORS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#FF00FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#00FF00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#FF0000:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "CRC Rx")
        var2_label=$(printf "%-15.15s" "HEC Rx")
        var3_label=$(printf "%-15.15s" "CRC Tx")
        var4_label=$(printf "%-15.15s" "HEC Tx")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-errors-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ERRORS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ERRORS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ERRORS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd:value:AVERAGE \
            DEF:var3=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd:value:AVERAGE \
            DEF:var4=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            VDEF:var3_max=var3,MAXIMUM \
            VDEF:var3_avg=var3,AVERAGE \
            VDEF:var3_min=var3,MINIMUM \
            VDEF:var3_last=var3,LAST \
            VDEF:var4_max=var4,MAXIMUM \
            VDEF:var4_avg=var4,AVERAGE \
            VDEF:var4_min=var4,MINIMUM \
            VDEF:var4_last=var4,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FFFF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#FF00FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            LINE1:var3#FFFF00:"${var3_label}\t\g" \
            GPRINT:var3_max:"%-14.1lf\t\g" \
            GPRINT:var3_avg:"%-14.1lf\t\g" \
            GPRINT:var3_min:"%-14.1lf\t\g" \
            GPRINT:var3_last:"%-14.1lf\l" \
            LINE1:var4#FF0000:"${var4_label}\t\g" \
            GPRINT:var4_max:"%-14.1lf\t\g" \
            GPRINT:var4_avg:"%-14.1lf\t\g" \
            GPRINT:var4_min:"%-14.1lf\t\g" \
            GPRINT:var4_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "FEC Rx")
        var2_label=$(printf "%-15.15s" "FEC Tx")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-errors-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ERRORS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ERRORS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ERRORS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Rx.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-FEC-Tx.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#0000FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#00FF00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "CRC Rx")
        var2_label=$(printf "%-15.15s" "CRC Tx")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-errors-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ERRORS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ERRORS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ERRORS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Rx.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-CRC-Tx.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FFFF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#FFFF00:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    elif [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd -a \
           -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "HEC Rx")
        var2_label=$(printf "%-15.15s" "HEC Tx")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-errors-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_ERRORS} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_ERRORS}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_ERRORS}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Rx.rrd:value:AVERAGE \
            DEF:var2=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-error-HEC-Tx.rrd:value:AVERAGE \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#FF00FF:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#FF0000:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for DSL-Tool ${_DSLTOOL_RT_ERRORS}"
    fi
}

dsltool_failures_graph ()
{
    last_x="$1"
    if [ -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-failure-errsec-15min.rrd -a \
         -f $rrd_dbpath/dsltool-${dsltoolhost}/statistics-failure-errsec-day.rrd ]
    then
        max_label=$(printf "%-14.14s" "${_MN_rrd_max}")
        avg_label=$(printf "%-14.14s" "${_MN_rrd_avg}")
        min_label=$(printf "%-14.14s" "${_MN_rrd_min}")
        last_label=$(printf "%-14.14s" "${_MN_rrd_last}")
        update_label=$(printf "%-15.15s" "${_MN_rrd_update}")
        var1_label=$(printf "%-15.15s" "${_DSLTOOL_RC_LAST15M}")
        var2_label=$(printf "%-15.15s" "${_DSLTOOL_RC_LASTDAY}")
        /usr/bin/rrdtool graph /srv/www/img/rrd/dsltool-failures-$last_x.png --title "DSL-Tool ${_DSLTOOL_RT_FAILURES} - $last_x" \
            --imginfo '<IMG SRC="/img/rrd/%s" WIDTH="%lu" HEIGHT="%lu" ALT="DSL-Tool ${_DSLTOOL_RT_FAILURES}">' \
            $rrd_width $rrd_height $rrd_common_opts --watermark "$rrd_watermark" \
            --end now --start end-${last_x} \
            --vertical-label "${_DSLTOOL_RL_FAILURES}" \
            --font "WATERMARK:8" \
            $rrd_grid_background \
            DEF:var1_1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-failure-errsec-15min.rrd:value:AVERAGE \
            DEF:var2_1=${rrd_dbpath}/dsltool-${dsltoolhost}/statistics-failure-errsec-day.rrd:value:AVERAGE \
            CDEF:var1=var1_1,4.0,* \
            CDEF:var2=var2_1,24.0,/ \
            VDEF:var1_max=var1,MAXIMUM \
            VDEF:var1_avg=var1,AVERAGE \
            VDEF:var1_min=var1,MINIMUM \
            VDEF:var1_last=var1,LAST \
            VDEF:var2_max=var2,MAXIMUM \
            VDEF:var2_avg=var2,AVERAGE \
            VDEF:var2_min=var2,MINIMUM \
            VDEF:var2_last=var2,LAST \
            COMMENT:"\t\t\t\g" \
            COMMENT:"${max_label}\t\g" \
            COMMENT:"${avg_label}\t\g" \
            COMMENT:"${min_label}\t\g" \
            COMMENT:"${last_label}\l" \
            LINE1:var1#00FF00:"${var1_label}\t\g" \
            GPRINT:var1_max:"%-14.1lf\t\g" \
            GPRINT:var1_avg:"%-14.1lf\t\g" \
            GPRINT:var1_min:"%-14.1lf\t\g" \
            GPRINT:var1_last:"%-14.1lf\l" \
            LINE1:var2#0000FF:"${var2_label}\t\g" \
            GPRINT:var2_max:"%-14.1lf\t\g" \
            GPRINT:var2_avg:"%-14.1lf\t\g" \
            GPRINT:var2_min:"%-14.1lf\t\g" \
            GPRINT:var2_last:"%-14.1lf\l" \
            COMMENT:"\n" \
            COMMENT:"${update_label}\t${rrd_last_update}"
    else
        show_error "$_MN_err" "no rrd-database for DSL-Tool ${_DSLTOOL_RT_FAILURES}"
    fi
}

# _oOo_
