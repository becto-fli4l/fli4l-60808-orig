From: Dave Stevenson <dave.stevenson@raspberrypi.com>
Date: Fri, 3 Jul 2020 16:05:37 +0100
Subject: dt: Use rpi-firmware-kms-2711 on 2711 platforms

Signed-off-by: Dave Stevenson <dave.stevenson@raspberrypi.com>
---
 arch/arm/boot/dts/bcm2711-rpi-4-b.dts | 4 ++++
 arch/arm/boot/dts/bcm2711-rpi-cm4.dts | 4 ++++
 2 files changed, 8 insertions(+)

diff --git a/arch/arm/boot/dts/bcm2711-rpi-4-b.dts b/arch/arm/boot/dts/bcm2711-rpi-4-b.dts
index 46475840a6da..9b8a3ce831bb 100644
--- a/arch/arm/boot/dts/bcm2711-rpi-4-b.dts
+++ b/arch/arm/boot/dts/bcm2711-rpi-4-b.dts
@@ -443,6 +443,10 @@
 	};
 };
 
+&firmwarekms {
+	compatible = "raspberrypi,rpi-firmware-kms-2711";
+};
+
 // =============================================
 // Board specific stuff here
 
diff --git a/arch/arm/boot/dts/bcm2711-rpi-cm4.dts b/arch/arm/boot/dts/bcm2711-rpi-cm4.dts
index c42fa2aa5ef2..ce3edc2cda7d 100644
--- a/arch/arm/boot/dts/bcm2711-rpi-cm4.dts
+++ b/arch/arm/boot/dts/bcm2711-rpi-cm4.dts
@@ -461,6 +461,10 @@
 	};
 };
 
+&firmwarekms {
+	compatible = "raspberrypi,rpi-firmware-kms-2711";
+};
+
 // =============================================
 // Board specific stuff here
 
